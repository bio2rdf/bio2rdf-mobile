<!-- 
  This template gets placed in the Pet tab's <ion-nav-view> directive.
  It was wired up in the app config (app.js) 
  The 'pets' data comes from its $scope within PetIndexCtrl (controller.js)
-->
<ion-view title="'Search'">

  <ion-content has-header="true" has-tabs="true" on-infinite-scroll="querySearch(0)">

    <!-- SEARCH BAR -->
    <div class="list list-inset" ng-show="!initPage()">
      <label class="item item-input bio2rdfinput">
	<i class="icon ion-search placeholder-icon"></i>
	<input type="text" placeholder="Typeahead Search" ng-model="queryTerm" ng-change="querySearch(1)">
        <button class="button button-clear" ng-click="queryTerm=''">
          &times;
        </button>
      </label>
    </div>

    <div ng-show="initPage()" style="width: 400px; position: fixed; left:50%; margin-top: 40px; margin-left: -265px">
      <img src="img/animated-arrow.gif" style="width: 150px; display: inline; vertical-align: middle" ng-click="toggleLeftPanel()">
      <h2 style="display: inline; font-family:Georgia; border: 3px solid WhiteSmoke; border-radius: 5px; padding: 5px; background-color: WhiteSmoke; text-shadow: 1px 1px coral; color: #191970"> Select a database </h2>
    </div>

    <ion-list>
      <ion-item ng-repeat="elem in searchResultGraph" item="elem" type="item-text-wrap" href="#/tab/describe-{{currentDB}}?uri={{elem.uri}}">
        <h2>{{elem.label}}</h2>
	<h3 style="margin-left: 30px; font-style:italic; color: grey">{{elem.description}}</h3>
      </ion-item>
    </ion-list>

    <ion-infinite-scroll ng-if="moreItemsAvailable"></ion-infinite-scroll>

  </ion-content>
</ion-view>
